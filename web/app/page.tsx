import { getClientUser } from "@/services/users";
import Link from "next/link";
import { redirect } from "next/navigation";

export default async function Home() {
  const { user, error } = await getClientUser();
  console.log(user, error);

  const redirectUrl = process.env.NEXT_PUBLIC_BASE_URL + "/";

  // if (user) redirect("/home");

  console.log("Main Page.tsx", error);

  return (
    <nav className="flex justify-between items-center p-container">
      <h1 className="text-3xl font-bold">
        <svg
          width="116"
          height="33"
          viewBox="0 0 116 33"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle
            cx="16.1111"
            cy="16.1111"
            r="15.1444"
            stroke="var(--light-foreground)"
            strokeWidth="1.93333"
          />
          <circle
            cx="16.1111"
            cy="16.1111"
            r="4.83333"
            fill="var(--light-foreground)"
          />
          <circle
            cx="28.3556"
            cy="7.73334"
            r="3.86667"
            fill="var(--light-foreground)"
          />
          <path
            d="M41.9881 26L49.0254 7.95555H52.1703L59.1561 26H55.6761L51.8094 15.7404C51.7235 15.5342 51.6032 15.2077 51.4485 14.7609C51.311 14.3141 51.1563 13.8329 50.9845 13.3173C50.8126 12.7846 50.658 12.2948 50.5205 11.848C50.383 11.384 50.2799 11.0489 50.2112 10.8427L50.8556 10.8169C50.7525 11.1606 50.6322 11.5473 50.4947 11.9769C50.3572 12.4065 50.2112 12.8533 50.0565 13.3173C49.9018 13.7813 49.7472 14.2281 49.5925 14.6578C49.455 15.0874 49.3261 15.4741 49.2058 15.8178L45.3392 26H41.9881ZM45.1845 21.8756L46.3445 18.9627H54.5676L55.8049 21.8756H45.1845ZM64.3229 26V11.0489H59.1673V7.95555H72.9842V11.0489H67.674V26H64.3229ZM83.2758 26.2578C81.9869 26.2578 80.7925 26.0258 79.6927 25.5618C78.5928 25.0978 77.6305 24.4533 76.8056 23.6284C75.9979 22.7864 75.3706 21.7982 74.9238 20.664C74.477 19.5298 74.2536 18.2924 74.2536 16.952C74.2536 15.6116 74.477 14.3742 74.9238 13.24C75.3706 12.1058 75.9979 11.1262 76.8056 10.3013C77.6305 9.45926 78.5928 8.80622 79.6927 8.34222C80.7925 7.87822 81.9869 7.64622 83.2758 7.64622C84.5819 7.64622 85.7848 7.87822 86.8847 8.34222C87.9845 8.80622 88.9383 9.45926 89.746 10.3013C90.5537 11.1434 91.181 12.1316 91.6278 13.2658C92.0746 14.3828 92.298 15.6116 92.298 16.952C92.298 18.2753 92.0746 19.504 91.6278 20.6382C91.181 21.7724 90.5537 22.7606 89.746 23.6027C88.9383 24.4447 87.9845 25.0978 86.8847 25.5618C85.7848 26.0258 84.5819 26.2578 83.2758 26.2578ZM83.2758 23.0613C84.1007 23.0613 84.8482 22.9153 85.5185 22.6231C86.2059 22.3138 86.7988 21.8841 87.2971 21.3342C87.7955 20.7671 88.1822 20.1141 88.4571 19.3751C88.7493 18.6361 88.8954 17.8284 88.8954 16.952C88.8954 16.0756 88.7493 15.2679 88.4571 14.5289C88.1822 13.7899 87.7955 13.1455 87.2971 12.5956C86.7988 12.0284 86.2059 11.5988 85.5185 11.3067C84.8482 10.9973 84.1007 10.8427 83.2758 10.8427C82.4681 10.8427 81.7205 10.9973 81.0331 11.3067C80.3457 11.5988 79.7528 12.0199 79.2545 12.5698C78.7561 13.1197 78.3694 13.7641 78.0945 14.5031C77.8195 15.2421 77.682 16.0584 77.682 16.952C77.682 17.8284 77.8195 18.6447 78.0945 19.4009C78.3694 20.1399 78.7561 20.7843 79.2545 21.3342C79.7528 21.8841 80.3457 22.3138 81.0331 22.6231C81.7205 22.9153 82.4681 23.0613 83.2758 23.0613ZM95.9319 26V7.95555H99.1025L105.676 18.6533L103.82 18.6276L110.471 7.95555H113.487V26H110.161V19.2204C110.161 17.6738 110.196 16.2818 110.264 15.0444C110.35 13.8071 110.488 12.5784 110.677 11.3582L111.089 12.4667L105.495 21.1022H103.794L98.3808 12.544L98.7417 11.3582C98.9307 12.5096 99.0596 13.6954 99.1283 14.9156C99.2143 16.1185 99.2572 17.5535 99.2572 19.2204V26H95.9319Z"
            fill="var(--light-foreground)"
          />
        </svg>
      </h1>
      <div className="space-x-4">
        <Link
          href={`${process.env.NEXT_PUBLIC_API_BASE_URL}/auth/login/google?redirectURL=${redirectUrl}`}
          className="btn btn-primary"
        >
          Login
        </Link>
      </div>
    </nav>
  );
}
